<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>frnk.UI.Charts</title>
    <!-- general styles -->
    <link rel="stylesheet" href="css/style.css" />
    <!-- jQuery -->
    <script src="js/jquery-1.7.1.js"></script>
    <!-- d3charts -->
    <link rel="stylesheet" href="css/d3charts.css" />
    <script src="js/d3.min.js" charset="utf-8"></script>
    <!--script src="https://d3js.org/d3.v4.min.js"></script-->
    <script src="js/d3.charts.js"></script>
</head>
<body>
    <h1>Dashboard</h1>
    <div class="filter">
        <div class="dropdown">
            <div class="dropdown-label">
                <label>Chart Types</label>
            </div>
            <div class="dropdown-field">
                <select id="type">
                    <option value="line" onchange="draw();">Line Chart</option>
                    <option value="stackedline" onchange="draw();">Stacked Line Chart</option>
                    <option value="stackedpercentline" onchange="draw();">100% Stacked Line Chart</option>
                    <option value="scatter" onchange="draw();">Scatter Chart</option>
                    <option value="column" onchange="draw();">Column Chart</option>
                    <option value="stackedcolumn" onchange="draw();">Stacked Column Chart</option>
                    <option value="stackedpercentcolumn" onchange="draw();">100% Stacked Column Chart</option>
                    <option value="combo" onchange="draw();">Combo Chart</option>
                    <option value="bar" onchange="draw();">Bar Chart</option>
                    <option value="stackedbar" onchange="draw();">Stacked Bar Chart</option>
                    <option value="stackedpercentbar" onchange="draw();">100% Stacked Bar Chart</option>
                    <option value="pie" onchange="draw();">Pie Chart</option>
                </select>
            </div>
        </div>
    </div>
    <div id="chart" />

    <script>
        var options = {
            plotArea: {
                innerPadding: 0,
                outerPadding: 0,
                padding: 20
            },
            linechart: {
                area: {
                    visible: true,
                    opacity: 0.3
                },
                interpolation: "linear",
                markers: {
                    visible: true,
                    size: 6
                }
            },
            piechart: {
                innerRadius: 0.5
            },
            legend: {
                title: "Rainfall vs Temperature",
                position: "right",
                width: 200
            },
            title: {
                text: "Rainfall vs Temperature",
                align: "center",
                height: 50,
                margin: 15,
                subtitle: "Source: wikipedia.org"
            },
            xAxis: [{
                gridlines: "none",
                labels: {
                    rotate: 45
                },
                orient: "bottom",
                tickmarks: true,
                title: {
                    align: "center",
                    text: "Years"
                }
            }],
            yAxis: [{
                gridlines: "none",
                labels: {
                    rotate: 0
                },
                orient: "left",
                tickmarks: true,
                title: {
                    text: "Weight",
                    valign: "middle"
                }
            }],
            series: {
                animate: true,
                labels: {
                    visible : true,
                    format: ".4f",
                    rotate: false
                }
            },
            tooltip: {
                title: "Rainfall vs Temperature",
                showPercent: false
            }
        };

        var el = document.getElementById('chart');
        var url = "data/multiple-axes.txt";
        //var url = "data/scatterplot.txt";
        //var url = "data/Actuals-vs-Budget.txt";
        //var url = "data/area-basic-1serie-ordinal.txt";
        //var url = "data/area-basic-nserie-ordinal.txt";
        //var url = "data/area-negative-1serie-ordinal.txt";
        //var url = "data/area-negative-nserie-ordinal.txt";
        //var url = "data/area-negative-inverted-1serie-ordinal.txt";
        //var url = "data/area-negative-inverted-nserie-ordinal.txt";
        //var url = "data/settings-time-1.txt";
        //var url = "data/settings-time-2.txt";
        //var url = "data/settings-time-3.txt";

        $.get(url, function (data) {

            // Initialize
            var data = $.parseJSON(data);
            // Draw initial chart
            var chart = new frnk.UI.Charts.LineChart("#chart", data, options);
            chart.draw();

            document.getElementById("type").onchange = function () {
                document.getElementById('chart').innerHTML = "";
                var val = this.options[this.selectedIndex].value;
                switch (val) {
                    case "column":
                        var chart = new frnk.UI.Charts.ColumnChart("#chart", data, options);
                        chart.draw();
                        break;
                    case "combo":
                        var chart = new frnk.UI.Charts.ComboChart("#chart", data, options);
                        chart.draw();
                        break;
                    case "stackedcolumn":
                        var chart = new frnk.UI.Charts.StackedColumnChart("#chart", data, options);
                        chart.draw();
                        break;
                    case "stackedpercentcolumn":
                        var chart = new frnk.UI.Charts.StackedPercentColumnChart("#chart", data, options);
                        chart.draw();
                        break;
                    case "bar":
                        var chart = new frnk.UI.Charts.BarChart("#chart", data, options);
                        chart.draw();
                        break;
                    case "stackedbar":
                        var chart = new frnk.UI.Charts.StackedBarChart("#chart", data, options);
                        chart.draw();
                        break;
                    case "stackedpercentbar":
                        var chart = new frnk.UI.Charts.StackedPercentBarChart("#chart", data, options);
                        chart.draw();
                        break;
                    case "line":
                        var chart = new frnk.UI.Charts.LineChart("#chart", data, options);
                        chart.draw();
                        break;
                    case "stackedline":
                        var chart = new frnk.UI.Charts.StackedLineChart("#chart", data, options);
                        chart.draw();
                        break;
                    case "stackedpercentline":
                        var chart = new frnk.UI.Charts.StackedPercentLineChart("#chart", data, options);
                        chart.draw();
                        break;
                    case "scatter":
                        var chart = new frnk.UI.Charts.ScatterChart("#chart", data, options);
                        chart.draw();
                        break;
                    case "pie":
                        var chart = new frnk.UI.Charts.PieChart("#chart", data, options);
                        chart.draw();
                        break;
                }
            };
        });

    </script>
</body>
</html>