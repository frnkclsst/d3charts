<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>frnk.UI.Charts</title>
    <!-- general styles -->
    <link rel="stylesheet" href="css/style.css" />
    <!-- jQuery -->
    <script src="js/jquery-1.7.1.js"></script>
    <!-- d3charts -->
    <link rel="stylesheet" href="css/d3charts.css" />
    <script src="js/d3.min.js" charset="utf-8"></script>
    <script src="js/d3chart.js"></script>
</head>
<body>
    <h1>Dashboard</h1>
    <div class="filter">
        <div class="dropdown">
            <div class="dropdown-label">
                <label>Chart Types</label>
            </div>
            <div class="dropdown-field">
                <select id="type">
                    <option value="line" onchange="draw();">Line Chart</option>
                    <option value="stackedline" onchange="draw();">Stacked Line Chart</option>
                    <option value="column" onchange="draw();">Column Chart</option>
                    <option value="stackedcolumn" onchange="draw();">Stacked Column Chart</option>
                    <option value="bar" onchange="draw();">Bar Chart</option>
                    <option value="pie" onchange="draw();">Pie Chart</option>
                </select>
            </div>
        </div>
    </div>
    <div id="chart" />

    <script>
        var el = document.getElementById('chart');
        //var url = "data/Actuals-vs-Budget.txt";
        //var url = "data/area-basic-1serie-ordinal.txt";
        var url = "data/area-basic-nserie-ordinal.txt";
        //var url = "data/area-negative-1serie-ordinal.txt";
        //var url = "data/area-negative-nserie-ordinal.txt";
        //var url = "data/area-negative-inverted-1serie-ordinal.txt";
        //var url = "data/area-negative-inverted-nserie-ordinal.txt";
        //var url = "data/settings-time-1.txt";
        //var url = "data/settings-time-2.txt";
        //var url = "data/settings-time-3.txt";

        $.get(url, function (data) {

            // Initialize
            var settings = $.parseJSON(data);
            // Draw initial chart
            var chart = new frnk.UI.Charts.LineChart(settings, "#chart");
            chart.draw();

            document.getElementById("type").onchange = function () {
                document.getElementById('chart').innerHTML = "";
                var val = this.options[this.selectedIndex].value;
                switch (val) {
                    case "column":
                        var chart = new frnk.UI.Charts.ColumnChart(settings, "#chart");
                        chart.draw();
                        break;
                    case "stackedcolumn":
                        var chart = new frnk.UI.Charts.StackedColumnChart(settings, "#chart");
                        chart.draw();
                        break;
                    case "bar":
                        var chart = new frnk.UI.Charts.BarChart(settings, "#chart");
                        chart.draw();
                        break;
                    case "line":
                        var chart = new frnk.UI.Charts.LineChart(settings, "#chart");
                        chart.draw();
                        break;
                    case "stackedline":
                        var chart = new frnk.UI.Charts.StackedLineChart(settings, "#chart");
                        chart.draw();
                        break;
                    case "pie":
                        var chart = new frnk.UI.Charts.PieChart(settings, "#chart");
                        chart.draw();
                        break;
                }
            };
        });

    </script>
</body>
</html>